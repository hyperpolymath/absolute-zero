// SPDX-License-Identifier: PMPL-1.0-or-later
= Proof Systems vs. Test Subject Languages
Jonathan D. A. Jewell <jonathan.jewell@open.ac.uk>
:toc:
:sectnums:

== CRITICAL DISTINCTION

**This is the most important architectural concept in Absolute Zero.**

---

== Two Categories of Languages

=== Category 1: PROOF SYSTEMS (Meta-Level)

**Purpose**: *Verify CNO properties are mathematically correct*

**Languages**:
* âœ… Coq 8.19 (constructive type theory)
* âœ… Lean 4 (dependent types)
* âœ… Z3 4.13 (SMT solver)
* âœ… Agda 2.6 (dependent types)
* âœ… Isabelle/HOL (higher-order logic)
* âœ… Mizar (set theory)

**What they do**:
```
Theorem cno_idempotent :
  forall (p : Program),
    is_CNO p ->
    forall s, eval p (eval p s) = eval p s.
Proof.
  intros p H s.
  unfold is_CNO in H.
  apply H.
Qed.
```

**Status**: ~7000 lines of proof code, Phases 1-4 complete

**RSR Compliance**: âœ… Allowed (formal verification, not runtime)

---

=== Category 2: TEST SUBJECT LANGUAGES (Object-Level)

**Purpose**: *Demonstrate CNO theory applies universally across programming paradigms*

**Languages** (current + planned):
* Malbolge (esoteric)
* Brainfuck (esoteric)
* Whitespace (esoteric)
* ðŸŽ¯ **C** (imperative) - `return;` is CNO
* ðŸŽ¯ **Rust** (systems) - `()` expression is CNO
* ðŸŽ¯ **Python** (dynamic) - `pass` is CNO
* ðŸŽ¯ **JavaScript** (web) - empty function is CNO
* ðŸŽ¯ **SQL** (database) - rollback is CNO
* ðŸŽ¯ **x86 Assembly** (hardware) - `nop` instruction is CNO
* ðŸŽ¯ **Java** (OOP) - empty method is CNO
* ðŸŽ¯ **Haskell** (functional) - `id` in certain contexts
* ðŸŽ¯ **Go** (concurrent) - empty goroutine

**What we verify**:
```
Given: Malbolge program "" (empty)
Prove: In Coq, is_CNO(MalbolgeInterpreter.execute(""))
Result: âœ… Theorem malbolge_empty_is_cno proven
```

**Implementation**:
```coq
(* Proof ABOUT Malbolge, written IN Coq *)
Theorem malbolge_empty_is_cno :
  is_CNO (MalbolgeInterpreter.execute "").
Proof.
  unfold is_CNO.
  split; [apply malbolge_empty_terminates |
          apply malbolge_empty_preserves_state].
Qed.
```

**Status**: Malbolge/Brainfuck/Whitespace formalized, 10+ languages planned

**RSR Compliance**: These languages don't run our code - we prove properties ABOUT them

---

== The Confusion: README.adoc Says Python

Look at absolute-zero/README.adoc lines 106-109:

```bash
# Python tests
python3 tests/unit/test_cno_properties.py

# Interpreter tests
python3 interpreters/brainfuck/brainfuck.py
python3 interpreters/whitespace/whitespace.py
```

**BUT** - these files don't exist in the repo:

```bash
$ find ~/Documents/hyperpolymath-repos/absolute-zero -name "*.py"
(no results)
```

**Conclusion**: README is aspirational/outdated. Python interpreters were planned but never implemented.

---

## Current Reality

=== What Actually Exists

```
absolute-zero/
â”œâ”€â”€ proofs/                    # Proof systems (Coq, Lean, Z3, etc.)
â”‚   â”œâ”€â”€ coq/                   # âœ… ~4000 lines, working
â”‚   â”œâ”€â”€ lean4/                 # âœ… ~2500 lines, working
â”‚   â”œâ”€â”€ z3/                    # âœ… 22 theorems, working
â”‚   â”œâ”€â”€ agda/                  # âœ… Phase 1, working
â”‚   â”œâ”€â”€ isabelle/              # âœ… Phase 1, working
â”‚   â””â”€â”€ mizar/                 # âš ï¸ Pending install
â”‚
â”œâ”€â”€ interpreters/              # Test subjects (formalized in proofs)
â”‚   â”œâ”€â”€ rescript/              # âœ… Malbolge interpreter (ReScript)
â”‚   â”œâ”€â”€ brainfuck/             # âŒ README mentions Python, doesn't exist
â”‚   â””â”€â”€ whitespace/            # âŒ README mentions Python, doesn't exist
â”‚
â”œâ”€â”€ package.json               # âš ï¸ Only TypeScript compilation
â””â”€â”€ justfile                   # âš ï¸ References Python that doesn't exist
```

=== What Needs to Change

**Option A: Remove Python/npm (RSR Compliant)**

```bash
# 1. Remove package.json (TypeScript â†’ ReScript)
rm package.json

# 2. Implement Brainfuck/Whitespace in Rust
cargo new --lib interpreters/brainfuck-rs
cargo new --lib interpreters/whitespace-rs

# 3. Update README.adoc to reflect reality
# 4. Update justfile recipes
```

**Option B: Keep as Test Subjects (Acceptable Exception)**

Python/npm are NOT:
* âŒ Running our proofs
* âŒ Part of our verification infrastructure
* âŒ Production dependencies

Python/npm ARE:
* âœ… Test subjects (proving CNO applies to them)
* âœ… Interpreters for esoteric languages (being studied)
* âœ… Tools to validate our theory (not the theory itself)

**RSR Ruling**: Since they're test subjects, not proof systems, this is acceptable.

---

## The Real Goal: Universal CNO Verification

### Vision: Prove CNO Across 100+ Languages

[cols="1,2,1"]
|===
|Language |CNO Example |Status

|**Malbolge**
|`""` (empty program)
|âœ… Proven in Coq

|**Brainfuck**
|`><` (right then left)
|â³ Formalized, needs proof

|**C**
|`void f() { return; }`
|ðŸŽ¯ Planned (v2.0)

|**Rust**
|`fn f() { () }`
|ðŸŽ¯ Planned (v2.0)

|**Python**
|`def f(): pass`
|ðŸŽ¯ Planned (v2.0)

|**JavaScript**
|`() => {}`
|ðŸŽ¯ Planned (v2.0)

|**SQL**
|`BEGIN; ROLLBACK;`
|ðŸŽ¯ Planned (v3.0)

|**x86 Assembly**
|`nop`
|ðŸŽ¯ Planned (v3.0)

|**LLVM IR**
|`ret void`
|ðŸŽ¯ Planned (v4.0)

|**Java**
|`void m() {}`
|ðŸŽ¯ Planned (v2.0)

|**Go**
|`func f() {}`
|ðŸŽ¯ Planned (v2.0)

|**Haskell**
|`id :: a -> a`
|ðŸŽ¯ Planned (v3.0)

|**Quantum (Qiskit)**
|Identity gate `I`
|ðŸŽ¯ Proven in Coq (Quantum module)

|**Verilog**
|`always @(*) begin end`
|ðŸŽ¯ Planned (v8.0)
|===

### The Formula

For each language L:

1. **Formalize semantics** in Coq:
   ```coq
   Inductive L_Program : Type := ...
   Definition L_eval : L_Program -> State -> State := ...
   ```

2. **Prove CNO properties**:
   ```coq
   Theorem L_example_is_cno :
     is_CNO (L_eval L_empty_program).
   ```

3. **Cross-verify** in Lean 4, Z3, Isabelle

4. **Validate** with ECHIDNA multi-prover consensus

---

## Why This Matters

### Scientific Validity

Proving CNO holds across:
* Esoteric languages (Malbolge)
* Mainstream languages (C, Rust, Python)
* Domain-specific languages (SQL, x86)
* Quantum languages (Qiskit)
* Hardware languages (Verilog)

**Demonstrates**: CNO is a *universal* computational primitive, not an artifact of specific language design.

### Practical Applications

Once we prove CNO for mainstream languages:
* **Compiler optimization**: Dead code elimination
* **Security**: Sandbox untrusted code proven inert
* **Database**: Prove transaction rollback safety
* **Hardware**: CPU instruction verification

---

## Action Items

### Immediate (v1.0)

* [ ] **Remove outdated Python references** from README
* [ ] **Clarify package.json** is for TypeScript only (minimal)
* [ ] **Document**: Malbolge formalization in Coq (already done)
* [ ] **Update justfile**: Remove Python interpreter recipes

### Near-term (v2.0)

* [ ] **Implement C CNO examples** (formalize in Coq)
* [ ] **Implement Rust CNO examples** (formalize in Coq)
* [ ] **Implement JavaScript CNO examples** (formalize in Coq)
* [ ] **Universal CNO framework**: Language-agnostic specification

### Long-term (v3-12)

* [ ] **100+ languages**: Cover all major paradigms
* [ ] **Automated translation**: Coq proof â†’ other languages
* [ ] **CNO database**: Searchable corpus of CNO examples
* [ ] **Industry adoption**: Compilers use our proofs

---

## Summary

| Aspect | Proof Systems | Test Subject Languages |
|--------|---------------|------------------------|
| **Purpose** | Verify correctness | Demonstrate universality |
| **Languages** | Coq, Lean, Z3, etc. | C, Rust, Python, SQL, etc. |
| **RSR Status** | âœ… Allowed | âœ… Allowed (not runtime deps) |
| **Current State** | ~7000 lines, working | Malbolge done, 10+ planned |
| **v1.0 Priority** | Complete 21 Admitted | Document existing |
| **v2.0+ Priority** | AI acceleration | Expand to mainstream langs |

**Bottom Line**: Python/npm are test subjects, not dependencies. We prove properties ABOUT them using Coq/Lean/Z3. This is RSR-compliant and scientifically critical.

---

_"We don't run code in Python. We prove theorems about Python in Coq."_

â€” Architectural principle established 2026-02-05
